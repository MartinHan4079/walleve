### 使用hooks重构后

最近入手一个小项目, 拿到手的一手代码是query写的静态文件, 原打算本着不改动原作者初心的原则下,对项目进行增添功能, 随即整理接口和需求文档，后又写写了几个接口和功能，本不打算进行重构的，但是有vue和react这样的工具，现在还去写原生+jqery实在有些过意不去，看着没几个页面，后面就着手重构。(ps:这是接手重构的第二个项目了，手动命苦)。

#### 框架选择
项目小，前端暂定一个人，属于没人管没人问的状态，选择方面要看自己意思了，首先对框架的熟练程度 vue > raect > angular，其次是目前公司的前端技术主要为react + antd，还有就是react hooks发布快一年了。最终考虑到项目后期可能甩锅，最终选择react。

#### 工具选择
由于项目初期体量小，而且都是绝大多数都是增删改查的功能，就没有使用状态管理工具, 项目搭建上面为了省事直接create-react-app创建了项目。

#### 重构问题
1. 页面功能的复制
这个静态页面只做了展示，新增的功能需求，都要我后期加。。
2. 页面及组件规划
就直接按原菜单来了，后来发现很多页面可以共用逻辑。。。
3. 重构完成


> ps: 由于后端的版本也进行了大改（ps:这是我重构快结束时才知道的）绝大多数的接口传参发生了变化，导致页面重构完成以后，又对着后端的新出的api调整了一遍接口。


### 用hooks的感受

1. 首选不用写class就感觉很爽了。

2. 在也没有用到生命周期函数 爽

3. 最好是配合typeScript + rxjs使用 感觉最佳

> 使用typescript后，除了安装相应工具的时候需要安装其对应的typescript类型。使用typescript后的不管是代码提示还是自动补全都是相当给力的(vs code)。另外加一句：typescript最好别用 不然真的要回不去的。



